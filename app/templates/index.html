{% extends "base.html" %}
{% from "_components.html" import item_card %}

{% block title %}Otimização de Corte 1D - Início{% endblock %}

{% block head_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}
    <div class="header">
        <h1>Riofer - Otimização de Corte</h1>
    </div>
    
    <div class="config-panel">
        <label>Largura da Chapa Padrão:</label>
        <input type="number" id="larguraChapa" value="{{ largura_chapa }}" min="100" step="10">
        <span style="margin-right: 10px; color: #313844;">mm</span>

        <label style="margin-left: 20px;">Refilo (mm):</label>
        <input type="number" id="refilo" value="0" min="0" step="1">
        <button onclick="atualizarLargura()">Atualizar</button>
    </div>
    
    <div class="content">
    
        <div class="filter-panel">
            <div class="filter-group">
                <label for="filtroDescricao">Buscar por Código ou Nome:</label>
                <input type="text" id="filtroDescricao" onkeyup="filtrarItens()" placeholder="Digite para filtrar...">
            </div>
            <div class="filter-group">
                <label for="filtroEspessura">Filtrar por Espessura:</label>
                <select id="filtroEspessura" oninput="filtrarItens()">
                    <option value="">Todas as Espessuras</option>
                    {% for esp in espessuras %}
                        <option value="{{ esp }}">{{ "%.1f"|format(esp) }} mm</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="items-grid" id="itemsGrid">
            {% for item in items %}
                {{ item_card(item) }}
            {% endfor %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}